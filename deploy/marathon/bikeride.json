{
  "id": "/bikeride",
  "apps": [
    {
      "id": "/bikeride/authentication",
      "container": {
        "docker": {
          "image": "bikeride/authentication-lagom-impl:0.0.1-SNAPSHOT",
          "network": "BRIDGE",
          "portMappings": [
            { "containerPort": 0, "servicePort": 0 }
          ]
        }
      },
      "cpus": 0.25,
      "mem": 512.0,
      "instances": 1,
      "env": {
        "SERVICE_DEBUG": "-d",
        "BIKERIDE_SERVICE_DOMAIN": "marathon.mesos",
        "APPLICATION_SECRET": "changeme!",
        "CASSANDRA_SERVICE_NAME": "_cassandra._tcp.marathon.mesos",
        "SERVICE_BIND_PORT": "9000",
        "SERVICE_BIND_IP": "0.0.0.0",
        "KAFKA_SERVICE_NAME": "_kafka._tcp.kafka-kafka.marathon.mesos",
        "AKKA_REMOTING_PORT": "2551",
        "AKKA_REMOTING_BIND_PORT": "2551",
        "AKKA_REMOTING_HOST": "$HOSTNAME.marathon.mesos",
        "AKKA_REMOTING_BIND_HOST": "$HOSTNAME.bikeride-authentication.marathon.mesos",
        "AKKA_SEED_NODES": "bikeride-authentication-0.bikeride-authentication.marathon.mesos:2551,bikeride-authentication-1.bikeride-authentication.marathon.mesos:2551,bikeride-authentication-2.bikeride-authentication.marathon.mesos:2551"
      },
      "labels": {
        "HAPROXY_GROUP": "external",
        "HAPROXY_0_VHOST": "bikeride.dcos",
        "HAPROXY_0_PATH": "/api/authentication"
      },
      "healthChecks": [
        {
          "path": "/_status/circuit-breaker/current",
          "portIndex": 0,
          "protocol": "HTTP",
          "intervalSeconds": 5
        }
      ]
    }
  ]
}